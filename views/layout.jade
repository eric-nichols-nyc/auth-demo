doctype html
html
  head
    title Login Database
    link(rel='shortcut icon', href='')
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js')
    script(src='https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js')
    script.
      const handleDBUpdate = async(id, role) => {
        try{
            const res = await fetch('/users/put/', {
              method: 'PUT',
              body: JSON.stringify({id, role}),
              headers: {'Content-Type': 'application/json'}
            })
            if(res.status === 201)
            window.location.reload()
        }catch(err){
          console.log(err)
        }
      }
      // Delete user
      const handleDBDelete  = async(id) => {
        try{
            const res = await fetch('/users/delete/', {
              method: 'DELETE',
              body: JSON.stringify({id}),
              headers: {'Content-Type': 'application/json'}
            })
            if(res.status === 201)
            window.location.reload()
        }catch(err){
          console.log(err)
        }
      }

  body
    nav.navbar.navbar-default.navbar-inverse.top-bar  
      .container-fluid
        .navbar-header
          a.navbar-brand(href='#') Login Database
        ul.nav.navbar-nav
          li(class=(title=='Members'?'active':''))
            a(href='/') Members
          if !person
           li(class=(title=='Register'?'active':''))
            a(href='/users/register') Register
           li(class=(title=='Login'?'active':''))
            a(href='/users/login') Login
        ul.nav.navbar-nav.navbar-right
          if person
            li
              span(style='color:white;font-size:1.3vw;padding-right:10px;') Hello #{person.name}, 
               a(href='/users/logout') Logout
    .container
      !=messages()
    block content
